if code again, I should consider having inputs as list of dicts
